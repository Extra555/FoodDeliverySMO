# Food Delivery SMO — Вариант 9 (Python)

## Описание проекта

Данный проект реализует имитационную модель системы массового обслуживания (СМО)  
для центра обработки заказов доставки еды.

В системе несколько ресторанов генерируют заказы, которые:
- либо сразу передаются свободным операторам,
- либо помещаются в буфер (очередь),
- либо отклоняются при переполнении буфера.

Моделирование выполнено на языке **Python** с использованием событийного подхода
(календарь событий).

---

## Возможности программы

Программа поддерживает:
- пошаговый режим моделирования;
- автоматический режим моделирования до заданного времени;
- вывод календаря событий;
- сбор и вывод статистики работы системы.

---

## Конфигурация системы (по умолчанию)

| Параметр | Значение |
|--------|---------|
| Количество ресторанов | 3 |
| Количество операторов | 2 |
| Интервал генерации заказов | случайный (равномерный / экспоненциальный по варианту) |
| Среднее время обработки заказа | 3.0 |
| Вместимость буфера | 5 |

Параметры задаются при создании объекта `SMO` в файле `smo_food_center.py`.

---

## Реализованные дисциплины (вариант 9)

| Компонент | Дисциплина | Реализация в программе |
|---------|------------|------------------------|
| Источник заявок | ИБ + И31 | Бесконечный источник, генерация заказов во времени |
| Прибор | П32 | Экспоненциальное распределение времени обслуживания |
| Буфер | Д1ОЗ2 | FIFO-очередь со сдвигом элементов |
| Отказ | Д1ОО5 | Отказ новой заявки при переполнении буфера |
| Выбор оператора | Д2П1 | Свободный оператор с минимальным номером |
| Выбор заявок | Д2Б5 | Последовательная обработка заявок из буфера |

---

## Архитектура и основные компоненты

- **RestaurantSource**  
  Источник заявок. Генерирует события появления заказов во времени.

- **Order**  
  Описывает заявку (ресторан, номер заказа, время поступления).

- **Buffer**  
  Реализует очередь заявок с ограниченной ёмкостью (FIFO).

- **Operator**  
  Обслуживает заявки, моделирует экспоненциальное время обработки.

- **Event / EventType**  
  Календарные события системы (генерация заявки, начало и окончание обслуживания, отказ).

- **SMO**  
  Основной класс, управляющий:
  - календарём событий,
  - обработкой логики системы,
  - сбором статистики.

---

## Логика работы системы

1. Ресторан генерирует заказ.
2. Если есть свободный оператор — заказ сразу передаётся на обслуживание.
3. Если операторов нет — заказ помещается в буфер.
4. Если буфер переполнен — заказ отклоняется.
5. После завершения обслуживания оператор либо:
   - берёт следующий заказ из буфера,
   - либо становится свободным.

---

## Режимы работы

### Пошаговый режим
Позволяет выполнять моделирование по событиям и наблюдать:
- текущее время;
- состояние ресторанов;
- состояние буфера;
- состояние операторов.

### Автоматический режим
Моделирование выполняется автоматически до заданного момента времени.

### Календарь событий
Вывод последних событий системы:
- ORDER_GENERATED
- ORDER_TO_OPERATOR
- ORDER_TO_BUFFER
- OPERATOR_FREE
- ORDER_REJECTED

---

## Вывод статистики

После завершения моделирования выводятся:
- общее число сгенерированных заказов;
- количество обработанных заказов;
- количество отклонённых заказов;
- процент отказов;
- среднее время ожидания заказов по каждому ресторану.


